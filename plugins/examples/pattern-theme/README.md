# èŠ±çº¹ä¸»é¢˜æ’ä»¶

ä¸º FlashNote æ·»åŠ ç‚«é…·çš„å‡ ä½•èŠ±çº¹èƒŒæ™¯æ•ˆæœï¼Œæ”¯æŒå¤šç§æ ·å¼ã€é€æ˜åº¦è°ƒèŠ‚å’ŒåŠ¨æ€åˆ‡æ¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ¨ **8ç§ç²¾ç¾èŠ±çº¹æ ·å¼**ï¼šåœ†ç‚¹ã€ç½‘æ ¼ã€æ–œçº¹ã€èœ‚çªã€æ³¢æµªã€ç”µè·¯ã€ä¹‹å­—å½¢ã€è±å½¢
- ğŸ¨ **é€æ˜åº¦è°ƒèŠ‚**ï¼šè‡ªå®šä¹‰èŠ±çº¹çš„æ˜¾çœ¼ç¨‹åº¦
- ğŸ”„ **åŠ¨æ€åˆ‡æ¢**ï¼šå³æ—¶é¢„è§ˆä¸åŒèŠ±çº¹æ•ˆæœ
- ğŸ’¾ **çŠ¶æ€æŒä¹…åŒ–**ï¼šè‡ªåŠ¨ä¿å­˜ä½ çš„åå¥½è®¾ç½®
- âš¡ **é›¶æ€§èƒ½å½±å“**ï¼šçº¯CSSå®ç°ï¼Œä¸æ¶ˆè€—é¢å¤–èµ„æº

## å®‰è£…

1. æ‰“å¼€ FlashNote
2. è¿›å…¥ **æ’ä»¶å•†åº—** â†’ **æœ¬åœ°å¼€å‘**
3. åˆ·æ–°æ’ä»¶åˆ—è¡¨
4. å®‰è£… **èŠ±çº¹ä¸»é¢˜** æ’ä»¶

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤é¢æ¿æ“ä½œ

æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

#### 1. åˆ‡æ¢èŠ±çº¹ä¸»é¢˜
- **å‘½ä»¤**: `åˆ‡æ¢èŠ±çº¹ä¸»é¢˜`
- **åŠŸèƒ½**: å¯ç”¨æˆ–ç¦ç”¨èƒŒæ™¯èŠ±çº¹æ•ˆæœ
- **å¿«æ·**: å¿«é€Ÿå¼€å…³èŠ±çº¹æ˜¾ç¤º

#### 2. ä¸‹ä¸€ä¸ªèŠ±çº¹æ ·å¼
- **å‘½ä»¤**: `ä¸‹ä¸€ä¸ªèŠ±çº¹æ ·å¼`
- **åŠŸèƒ½**: å¾ªç¯åˆ‡æ¢8ç§èŠ±çº¹æ ·å¼
- **å¿«æ·**: å¿«é€Ÿæ‰¾åˆ°ä½ å–œæ¬¢çš„æ ·å¼

#### 3. èŠ±çº¹ä¸»é¢˜è®¾ç½®
- **å‘½ä»¤**: `èŠ±çº¹ä¸»é¢˜è®¾ç½®`
- **åŠŸèƒ½**: æŸ¥çœ‹å½“å‰è®¾ç½®å’Œå¯ç”¨æ ·å¼åˆ—è¡¨

### ç¼–ç¨‹æ¥å£

æ’ä»¶ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ’ä»¶è°ƒç”¨æ¥æ§åˆ¶ï¼š

```javascript
// åˆ‡æ¢å¼€å…³
const result = await runtime.executeCommand('pattern-theme', 'pattern-theme.toggle')
console.log('èŠ±çº¹å·²å¯ç”¨:', result.enabled)

// åˆ‡æ¢æ ·å¼
await runtime.executeCommand('pattern-theme', 'pattern-theme.next-style')

// è®¾ç½®é€æ˜åº¦ï¼ˆ0.0-1.0ï¼‰
await runtime.executeCommand('pattern-theme', 'pattern-theme.settings', {
  opacity: 0.5
})

// è·å–å½“å‰è®¾ç½®
const settings = await runtime.executeCommand('pattern-theme', 'pattern-theme.settings')
console.log('å½“å‰æ ·å¼:', settings.currentSettings.styleName)
console.log('å¯ç”¨æ ·å¼:', settings.availableStyles)
```

## èŠ±çº¹æ ·å¼é¢„è§ˆ

### 1. åœ†ç‚¹ (dots)
ç»å…¸çš„åœ†ç‚¹èƒŒæ™¯ï¼Œç®€çº¦ä¼˜é›…

### 2. ç½‘æ ¼ (grid)
æ•´é½çš„ç½‘æ ¼çº¿æ¡ï¼Œé€‚åˆç¬”è®°ç¼–è¾‘

### 3. æ–œçº¹ (diagonal)
åŠ¨æ„Ÿçš„æ–œå‘æ¡çº¹ï¼Œç°ä»£é£æ ¼

### 4. èœ‚çª (hexagon)
å…­è¾¹å½¢èœ‚çªå›¾æ¡ˆï¼Œç§‘æŠ€æ„Ÿåè¶³

### 5. æ³¢æµª (waves)
æŸ”å’Œçš„æ³¢æµªçº¹ç†ï¼Œèˆ’ç¼“è§†è§‰

### 6. ç”µè·¯ (circuit)
ç”µè·¯æ¿é£æ ¼ï¼Œæå®¢æœ€çˆ±

### 7. ä¹‹å­—å½¢ (zigzag)
é”¯é½¿çŠ¶å‡ ä½•å›¾æ¡ˆï¼Œæ´»åŠ›å››å°„

### 8. è±å½¢ (diamonds)
è±å½¢äº¤é”™ï¼Œå¯¹ç§°ç¾æ„Ÿ

## æŠ€æœ¯å®ç°

### ä½¿ç”¨çš„API

- `runtime.theme.registerGlobalStyle()` - æ³¨å†Œå…¨å±€CSSæ ·å¼
- `runtime.theme.unregisterGlobalStyle()` - ç§»é™¤å…¨å±€æ ·å¼
- `runtime.storage` - æŒä¹…åŒ–ç”¨æˆ·è®¾ç½®
- `runtime.notifications` - æ˜¾ç¤ºæ“ä½œåé¦ˆ

### æ ·å¼ä¼˜å…ˆçº§

æ’ä»¶ä½¿ç”¨**ä½ä¼˜å…ˆçº§ (priority: 10)**ï¼Œç¡®ä¿ï¼š
- âœ… ä¸ä¼šè¦†ç›–åº”ç”¨çš„æ ¸å¿ƒæ ·å¼
- âœ… ä¸ä¼šå½±å“Material-UIä¸»é¢˜
- âœ… å¯ä»¥è¢«å…¶ä»–é«˜ä¼˜å…ˆçº§æ ·å¼è¦†ç›–

### CSSå®ç°åŸç†

é€šè¿‡åœ¨ `body::before` ä¼ªå…ƒç´ æ·»åŠ èƒŒæ™¯å›¾æ¡ˆï¼š

```css
body::before {
  content: '';
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-image: /* èŠ±çº¹å›¾æ¡ˆ */;
  pointer-events: none;  /* ä¸é˜»æŒ¡é¼ æ ‡äº‹ä»¶ */
  z-index: 0;            /* åœ¨å†…å®¹ä¹‹ä¸‹ */
}

#root {
  position: relative;
  z-index: 1;           /* å†…å®¹åœ¨èŠ±çº¹ä¹‹ä¸Š */
}
```

## è‡ªå®šä¹‰å¼€å‘

### æ·»åŠ æ–°èŠ±çº¹

ç¼–è¾‘ `index.js` ä¸­çš„ `PATTERN_STYLES` å¯¹è±¡ï¼š

```javascript
const PATTERN_STYLES = {
  // ... ç°æœ‰æ ·å¼
  
  myCustomPattern: {
    name: 'æˆ‘çš„èŠ±çº¹',
    css: `
      background-image: /* ä½ çš„CSSæ¸å˜æˆ–å›¾æ¡ˆ */;
      background-size: 50px 50px;
    `
  }
}
```

### è°ƒæ•´é»˜è®¤è®¾ç½®

ä¿®æ”¹ `currentState` åˆå§‹å€¼ï¼š

```javascript
let currentState = {
  enabled: true,        // é»˜è®¤å¯ç”¨
  styleId: 'dots',      // é»˜è®¤æ ·å¼
  opacity: 1.0          // é»˜è®¤é€æ˜åº¦
}
```

## æœ€ä½³å®è·µ

### æ¨èé…ç½®

- **ç¬”è®°ç¼–è¾‘**: `grid` ç½‘æ ¼ + 0.6é€æ˜åº¦
- **å¾…åŠç®¡ç†**: `dots` åœ†ç‚¹ + 0.8é€æ˜åº¦
- **æç®€é£æ ¼**: `diagonal` æ–œçº¹ + 0.3é€æ˜åº¦
- **ç§‘æŠ€é£æ ¼**: `circuit` ç”µè·¯ + 1.0é€æ˜åº¦

### æ€§èƒ½æç¤º

- èŠ±çº¹æ˜¯çº¯CSSæ¸²æŸ“ï¼Œä¸ä½¿ç”¨JavaScriptåŠ¨ç”»
- ä¸ä¼šå¢åŠ å†…å­˜å ç”¨
- ä¸ä¼šå½±å“åº”ç”¨æ€§èƒ½
- å¯ä»¥æ”¾å¿ƒé•¿æœŸå¼€å¯

## æ•…éšœæ’é™¤

### èŠ±çº¹ä¸æ˜¾ç¤º

1. ç¡®è®¤æ’ä»¶å·²å¯ç”¨
2. è¿è¡Œå‘½ä»¤ `åˆ‡æ¢èŠ±çº¹ä¸»é¢˜` ç¡®ä¿çŠ¶æ€ä¸º"å·²å¯ç”¨"
3. æ£€æŸ¥æµè§ˆå™¨å¼€å‘å·¥å…·ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰CSSå†²çª

### é€æ˜åº¦è°ƒèŠ‚æ— æ•ˆ

é€æ˜åº¦éœ€è¦é€šè¿‡ç¼–ç¨‹æ¥å£è®¾ç½®ï¼š

```javascript
await window.flashnotePlugin.executeCommand(
  'pattern-theme',
  'pattern-theme.settings',
  { opacity: 0.5 }
)
```

### æ ·å¼å†²çª

å¦‚æœèŠ±çº¹è¢«å…¶ä»–æ’ä»¶æ ·å¼è¦†ç›–ï¼Œå¯ä»¥ä¿®æ”¹ `index.js` ä¸­çš„ä¼˜å…ˆçº§ï¼š

```javascript
await runtime.theme.registerGlobalStyle('main-pattern', css, {
  priority: 100 // æé«˜ä¼˜å…ˆçº§
})
```

## å¼€å‘æ—¥å¿—

### v1.0.0 (2025-01-18)
- âœ¨ åˆå§‹ç‰ˆæœ¬
- ğŸ¨ 8ç§èŠ±çº¹æ ·å¼
- âš™ï¸ é€æ˜åº¦è°ƒèŠ‚
- ğŸ’¾ çŠ¶æ€æŒä¹…åŒ–
- ğŸ“± å‘½ä»¤é¢æ¿é›†æˆ

## è®¸å¯è¯

MIT License

## ç›¸å…³èµ„æº

- [FlashNote æ’ä»¶å¼€å‘æŒ‡å—](../../docs/plugin-development-guide.md)
- [ä¸»é¢˜APIæ–‡æ¡£](../../docs/plugin-development-guide.md#theme-api)
- [CSSæ¸å˜ç”Ÿæˆå™¨](https://cssgradient.io/)
- [CSSèŠ±çº¹åº“](https://projects.verou.me/css3patterns/)

---

**äº«å—ä½ çš„ä¸ªæ€§åŒ– FlashNote ä½“éªŒï¼** ğŸ¨âœ¨
