# è‡ªåŠ¨æ ‡ç­¾åˆ›å»ºå™¨æ’ä»¶

> æ ¹æ®ç¬”è®°å†…å®¹æ™ºèƒ½åˆ›å»ºå’Œç®¡ç†æ ‡ç­¾

## åŠŸèƒ½ç‰¹æ€§

### âœ¨ ä¸»è¦åŠŸèƒ½

1. **é¢„å®šä¹‰æ ‡ç­¾é›†** - ä¸€é”®åˆ›å»ºå¸¸ç”¨æ ‡ç­¾ï¼ˆå·¥ä½œã€å­¦ä¹ ã€ç”Ÿæ´»ç­‰ï¼‰
2. **æ™ºèƒ½åˆ†æ** - åˆ†æç¬”è®°å†…å®¹ï¼Œè‡ªåŠ¨æå–å…³é”®è¯å¹¶åˆ›å»ºæ ‡ç­¾
3. **é‡å¤æ£€æµ‹** - è‡ªåŠ¨è·³è¿‡å·²å­˜åœ¨çš„æ ‡ç­¾
4. **é¢‘ç‡ç»Ÿè®¡** - æ ¹æ®å…³é”®è¯å‡ºç°é¢‘ç‡æ™ºèƒ½åˆ›å»ºæ ‡ç­¾

## ä½¿ç”¨æ–¹æ³•

### 1. å®‰è£…æ’ä»¶

1. ç¡®ä¿ FlashNote ç‰ˆæœ¬ >= 2.1.0
2. è¿›å…¥ FlashNote â†’ æ’ä»¶å•†åº— â†’ æœ¬åœ°å¼€å‘
3. ç‚¹å‡»"åˆ·æ–°æœ¬åœ°æ’ä»¶"
4. æ‰¾åˆ°"è‡ªåŠ¨æ ‡ç­¾åˆ›å»ºå™¨"å¹¶å®‰è£…

### 2. åˆ›å»ºé¢„å®šä¹‰æ ‡ç­¾é›†

**å¿«æ·æ–¹å¼**ï¼šå‘½ä»¤é¢æ¿ â†’ "åˆ›å»ºé¢„å®šä¹‰æ ‡ç­¾é›†"

**é¢„å®šä¹‰æ ‡ç­¾**ï¼š
- ğŸ”µ å·¥ä½œ (#1976d2)
- ğŸŸ¢ å­¦ä¹  (#2e7d32)
- ğŸŸ  ç”Ÿæ´» (#ed6c02)
- ğŸŸ£ é¡¹ç›® (#9c27b0)
- ğŸ”´ ä¼šè®® (#d32f2f)
- ğŸ”µ æƒ³æ³• (#0288d1)
- ğŸŸ  å¾…åŠ (#f57c00)
- ğŸ”´ é‡è¦ (#c62828)

**åŠŸèƒ½**ï¼š
- æ‰¹é‡åˆ›å»º8ä¸ªå¸¸ç”¨æ ‡ç­¾
- è‡ªåŠ¨è·³è¿‡å·²å­˜åœ¨çš„æ ‡ç­¾
- æ˜¾ç¤ºåˆ›å»ºç»“æœç»Ÿè®¡

### 3. æ™ºèƒ½åˆ†æç¬”è®°

**å¿«æ·æ–¹å¼**ï¼šå‘½ä»¤é¢æ¿ â†’ "åˆ†æç¬”è®°å¹¶åˆ›å»ºæ ‡ç­¾"

**å·¥ä½œåŸç†**ï¼š
1. æ‰«ææ‰€æœ‰ç¬”è®°å†…å®¹ï¼ˆæœ€å¤š100ç¯‡ï¼‰
2. æå–å…³é”®è¯ï¼ˆå·¥ä½œã€å­¦ä¹ ã€ä¼šè®®ã€é¡¹ç›®ç­‰ï¼‰
3. ç»Ÿè®¡å…³é”®è¯å‡ºç°é¢‘ç‡
4. åˆ›å»ºå‡ºç°æ¬¡æ•° >= 2 çš„æ ‡ç­¾ï¼ˆæœ€å¤š10ä¸ªï¼‰

**å…³é”®è¯æ˜ å°„**ï¼š
- "å·¥ä½œ" â†’ æ ‡ç­¾ï¼šå·¥ä½œã€é¡¹ç›®ã€ä¼šè®®
- "å­¦ä¹ " â†’ æ ‡ç­¾ï¼šå­¦ä¹ ã€ç¬”è®°ã€è¯¾ç¨‹ã€æ•™ç¨‹
- "ä¼šè®®" â†’ æ ‡ç­¾ï¼šä¼šè®®ã€è®¨è®ºã€æ²Ÿé€š
- "é¡¹ç›®" â†’ æ ‡ç­¾ï¼šé¡¹ç›®ã€å¼€å‘ã€è®¾è®¡
- "é‡è¦" â†’ æ ‡ç­¾ï¼šé‡è¦ã€ç´§æ€¥ã€ä¼˜å…ˆ

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å¿«é€Ÿå¼€å§‹

```javascript
// åœºæ™¯ï¼šæ–°ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨
// æ“ä½œï¼šå‘½ä»¤é¢æ¿ â†’ "åˆ›å»ºé¢„å®šä¹‰æ ‡ç­¾é›†"
// ç»“æœï¼šåˆ›å»º8ä¸ªå¸¸ç”¨æ ‡ç­¾ï¼Œå¯ç«‹å³ä½¿ç”¨

âœ… æˆåŠŸåˆ›å»º 8 ä¸ªæ ‡ç­¾ï¼Œè·³è¿‡ 0 ä¸ªå·²å­˜åœ¨çš„æ ‡ç­¾
```

### ç¤ºä¾‹ 2: æ™ºèƒ½åˆ†æ

```javascript
// åœºæ™¯ï¼šå·²æœ‰ç¬”è®°ï¼Œéœ€è¦è‡ªåŠ¨åˆ†ç±»
// ç¬”è®°å†…å®¹ç¤ºä¾‹ï¼š
// - ç¬”è®°1: "å·¥ä½œä¼šè®®çºªè¦"
// - ç¬”è®°2: "é¡¹ç›®å¼€å‘è®¡åˆ’"
// - ç¬”è®°3: "å­¦ä¹ ç¬”è®° - Python"
// - ç¬”è®°4: "å·¥ä½œæ€»ç»“"

// æ“ä½œï¼šå‘½ä»¤é¢æ¿ â†’ "åˆ†æç¬”è®°å¹¶åˆ›å»ºæ ‡ç­¾"
// ç»“æœï¼š
âœ… åˆ†æäº† 4 ç¯‡ç¬”è®°ï¼Œåˆ›å»ºäº† 3 ä¸ªæ ‡ç­¾
   - å·¥ä½œ (å‡ºç° 3 æ¬¡)
   - é¡¹ç›® (å‡ºç° 2 æ¬¡)
   - å­¦ä¹  (å‡ºç° 2 æ¬¡)
```

## API ä½¿ç”¨ç¤ºä¾‹

### åˆ›å»ºå•ä¸ªæ ‡ç­¾

```javascript
// åˆ›å»ºä¸€ä¸ªæ ‡ç­¾
await runtime.tags.create('ç¼–ç¨‹', '#4caf50')

// æˆåŠŸè¿”å›ï¼š{ id: 1, name: 'ç¼–ç¨‹', color: '#4caf50', ... }
```

### æ‰¹é‡åˆ›å»ºæ ‡ç­¾

```javascript
const tags = [
  { name: 'JavaScript', color: '#f7df1e' },
  { name: 'Python', color: '#3776ab' },
  { name: 'React', color: '#61dafb' }
]

for (const tag of tags) {
  await runtime.tags.create(tag.name, tag.color)
}
```

### æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å­˜åœ¨

```javascript
const existingTags = await runtime.tags.list()
const tagExists = existingTags.some(t => t.name === 'å·¥ä½œ')

if (!tagExists) {
  await runtime.tags.create('å·¥ä½œ', '#1976d2')
}
```

### æ›´æ–°æ ‡ç­¾

```javascript
// è·å–æ ‡ç­¾åˆ—è¡¨
const tags = await runtime.tags.list()
const workTag = tags.find(t => t.name === 'å·¥ä½œ')

// æ›´æ–°æ ‡ç­¾é¢œè‰²
if (workTag) {
  await runtime.tags.update(workTag.id, { 
    color: '#ff0000' 
  })
}
```

### åˆ é™¤æ ‡ç­¾

```javascript
const tags = await runtime.tags.list()
const oldTag = tags.find(t => t.name === 'æ—§æ ‡ç­¾')

if (oldTag) {
  await runtime.tags.delete(oldTag.id)
}
```

## æƒé™è¯´æ˜

æ­¤æ’ä»¶éœ€è¦ä»¥ä¸‹æƒé™ï¼š

- `notes:read` - è¯»å–ç¬”è®°åˆ—è¡¨
- `notes:read:full` - è¯»å–ç¬”è®°å®Œæ•´å†…å®¹ï¼ˆç”¨äºåˆ†æï¼‰
- `tags:read` - è¯»å–ç°æœ‰æ ‡ç­¾
- `tags:write` - åˆ›å»ºæ ‡ç­¾
- `notifications:show` - æ˜¾ç¤ºé€šçŸ¥

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒä»£ç ç‰‡æ®µ

```javascript
// åˆ›å»ºæ ‡ç­¾
await runtime.tags.create('æ ‡ç­¾å', '#é¢œè‰²ä»£ç ')

// è·å–æ ‡ç­¾åˆ—è¡¨
const tags = await runtime.tags.list()

// æ›´æ–°æ ‡ç­¾
await runtime.tags.update(tagId, { 
  name: 'æ–°åç§°', 
  color: '#æ–°é¢œè‰²' 
})

// åˆ é™¤æ ‡ç­¾
await runtime.tags.delete(tagId)
```

### å…³é”®è¯æå–ç®—æ³•

```javascript
// ç®€å•å…³é”®è¯åŒ¹é…
const content = `${note.title} ${note.content}`.toLowerCase()
const keywords = ['å·¥ä½œ', 'å­¦ä¹ ', 'ä¼šè®®', 'é¡¹ç›®']

for (const keyword of keywords) {
  if (content.includes(keyword)) {
    // ç»Ÿè®¡å‡ºç°æ¬¡æ•°
    tagCountMap.set(keyword, (tagCountMap.get(keyword) || 0) + 1)
  }
}
```

## æ‰©å±•å»ºè®®

### ğŸ¯ åŠŸèƒ½æ‰©å±•

1. **AI å¢å¼º** - é›†æˆ AI åˆ†æç¬”è®°ä¸»é¢˜
2. **å¤šè¯­è¨€æ”¯æŒ** - æ”¯æŒè‹±æ–‡å…³é”®è¯è¯†åˆ«
3. **æ ‡ç­¾æ¨è** - åŸºäºç¬”è®°å†…å®¹æ™ºèƒ½æ¨èæ ‡ç­¾
4. **æ ‡ç­¾åˆå¹¶** - åˆå¹¶ç›¸ä¼¼æ ‡ç­¾ï¼ˆå¦‚"å­¦ä¹ "å’Œ"å­¦ä¹ ç¬”è®°"ï¼‰
5. **æ ‡ç­¾ç»Ÿè®¡** - æ˜¾ç¤ºæ ‡ç­¾ä½¿ç”¨é¢‘ç‡

### ğŸ’¡ ä»£ç ç¤ºä¾‹ï¼šAI å¢å¼ºç‰ˆ

```javascript
// ä½¿ç”¨ AI åˆ†æç¬”è®°å¹¶ç”Ÿæˆæ ‡ç­¾
runtime.registerCommand('auto-tag-creator.ai-analyze', async () => {
  const notes = await runtime.notes.list({ limit: 10 })
  
  for (const note of notes.notes) {
    const response = await runtime.ai.chat([
      { role: 'system', content: 'ä½ æ˜¯æ ‡ç­¾ç”ŸæˆåŠ©æ‰‹ï¼Œæ ¹æ®ç¬”è®°å†…å®¹ç”Ÿæˆ3-5ä¸ªæ ‡ç­¾' },
      { role: 'user', content: `ç¬”è®°æ ‡é¢˜: ${note.title}\nå†…å®¹: ${note.content}` }
    ])
    
    const suggestedTags = JSON.parse(response.content) // ['æ ‡ç­¾1', 'æ ‡ç­¾2', ...]
    
    for (const tagName of suggestedTags) {
      await runtime.tags.create(tagName, randomColor())
    }
  }
})
```

## æ•…éšœæ’é™¤

### Q: ä¸ºä»€ä¹ˆæ²¡æœ‰åˆ›å»ºä»»ä½•æ ‡ç­¾ï¼Ÿ

A: å¯èƒ½åŸå› ï¼š
1. ç¬”è®°å†…å®¹ä¸­æ²¡æœ‰åŒ¹é…çš„å…³é”®è¯
2. å…³é”®è¯å‡ºç°é¢‘ç‡ < 2 æ¬¡
3. æ ‡ç­¾å·²å­˜åœ¨

### Q: å¦‚ä½•ä¿®æ”¹å…³é”®è¯æ˜ å°„ï¼Ÿ

A: ç¼–è¾‘ `index.js` ä¸­çš„ `KEYWORD_TAG_MAP` å¯¹è±¡ï¼š

```javascript
const KEYWORD_TAG_MAP = {
  'ä½ çš„å…³é”®è¯': ['æ ‡ç­¾1', 'æ ‡ç­¾2'],
  // æ·»åŠ æ›´å¤šæ˜ å°„
}
```

### Q: å¯ä»¥ä¿®æ”¹é¢„å®šä¹‰æ ‡ç­¾å—ï¼Ÿ

A: ç¼–è¾‘ `index.js` ä¸­çš„ `PREDEFINED_TAGS` æ•°ç»„ï¼š

```javascript
const PREDEFINED_TAGS = [
  { name: 'è‡ªå®šä¹‰æ ‡ç­¾', color: '#è‡ªå®šä¹‰é¢œè‰²' },
  // æ·»åŠ æ›´å¤šæ ‡ç­¾
]
```

## ç›¸å…³æ–‡æ¡£

- [æ’ä»¶å¼€å‘æŒ‡å—](../../docs/development-guide.md)
- [Tags API æ–‡æ¡£](../../docs/development-guide.md#æ ‡ç­¾-api)
- [Runtime API å®Œæ•´æ–‡æ¡£](../../docs/development-guide.md#runtime-api)

## ç‰ˆæœ¬å†å²

- **v1.0.0** (2025-01-11)
  - âœ¨ åˆå§‹ç‰ˆæœ¬
  - âœ… æ”¯æŒé¢„å®šä¹‰æ ‡ç­¾åˆ›å»º
  - âœ… æ”¯æŒæ™ºèƒ½ç¬”è®°åˆ†æ
  - âœ… æ”¯æŒå…³é”®è¯æå–

## è®¸å¯è¯

MIT License - è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹

---

**ä½œè€…**: FlashNote Team  
**GitHub**: https://github.com/Xperiamol/FlashNote
